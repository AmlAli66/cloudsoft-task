<div class="field w-100 position-relative">
    <label *ngIf="label">{{ label }}</label>

    <!-- Dropdown box -->
    <div class="custom-dropdown form-control d-flex justify-content-between align-items-center"
        (click)="toggleDropdown()">
        <span>
            {{ selectedItem ? selectedItem[bindLabel] : placeholder }}
        </span>
        <i class="bi bi-chevron-down"></i>
    </div>

    <!-- Dropdown menu -->
    <div *ngIf="dropdownOpen" class="dropdown-menu show custom-menu w-100 p-2">
        <input type="text" [(ngModel)]="searchTerm" [ngModelOptions]="{standalone: true}" class="form-control mb-2"
            placeholder="Search..." (click)="$event.stopPropagation()">

        <ul class="list-unstyled mb-0">
            <li *ngIf="loading" class="dropdown-item text-muted">Loading...</li>
            <li *ngFor="let item of items | slice:0:100 | filter:searchTerm:bindLabel" (click)="selectItem(item)"
                class="dropdown-item">
                {{ item[bindLabel] }}
            </li>
        </ul>
    </div>
</div>